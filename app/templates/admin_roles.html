{% extends "base.html" %}
{% block content %}
  <h2>Roles & Permissions</h2>
  {% if roles %}
    <table class="table mt-3">
      <thead><tr><th>Name</th><th>Permissions</th></tr></thead>
      <tbody>
        {% for role in roles %}
          <tr>
            <td>{{ role.name }}</td>
            <td>
              {% if role.permissions %}
                {{ ", ".join(p.code for p in role.permissions) }}
              {% else %}
                <em>No permissions yet</em>
              {% endif %}
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p class="mt-3 text-muted">No roles defined yet.</p>
  {% endif %}
{% endblock %}
